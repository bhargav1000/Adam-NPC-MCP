$ python mcp_client.py 
üöÄ Starting Adam NPC LangGraph + MCP Client...
üîÄ LangGraph workflow orchestration enabled
üì° Connecting to MCP server at http://localhost:8000
üõ°Ô∏è  Will use proper MCP protocol with HTTP fallback
Type 'quit' to exit, 'reset' to start over, or 'help' for commands.

=== Adam NPC LangGraph + MCP Dialogue System ===
üîÄ Powered by LangGraph workflow orchestration
üßô‚Äç‚ôÇÔ∏è Adam is a wise, centuries-old sage of the northern isles
Type 'quit' to exit, 'reset' to start over, or 'help' for commands.

INFO:__main__:‚úÖ MCP protocol connection established
INFO:httpx:HTTP Request: POST http://localhost:8000/get_health_status "HTTP/1.1 404 Not Found"
ERROR:fastapi_mcp_client:HTTP error during get_health_status operation: Client error '404 Not Found' for url 'http://localhost:8000/get_health_status'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404
WARNING:__main__:MCP call failed: HTTP error: 404 - Not Found, falling back to HTTP
INFO:httpx:HTTP Request: GET http://localhost:8000/health "HTTP/1.1 200 OK"
‚úÖ Server is running: healthy

You: Hi Adam, who art thou?
INFO:__main__:üîÄ Processing with LangGraph workflow: Hi Adam, who art thou?...
INFO:adam_langgraph_workflow:Processing user input: Hi Adam, who art thou?...
INFO:httpx:HTTP Request: GET http://localhost:8000/get_context "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Retrieved conversation context successfully
INFO:adam_langgraph_workflow:Knowledge search needed: False
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Generated Adam's response successfully
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Updated conversation context successfully

Adam: Ah, greetings, seeker of wisdom. I am Adam, a humble sage of the Northern Isles, a land shrouded in mystery and ancient lore. For centuries, I have walked the path of the arcane, delving deep into the mysteries of magic, philosophy, and the timeless arts. My purpose is to share the wisdom I have gathered through the ages, to guide those who seek knowledge and understanding.

Pray, tell me, what brings thee here, and how may I assist thee on thy journey?

You: Can you tell me about your home?
INFO:__main__:üîÄ Processing with LangGraph workflow: Can you tell me about your home?...
INFO:adam_langgraph_workflow:Processing user input: Can you tell me about your home?...
INFO:httpx:HTTP Request: GET http://localhost:8000/get_context "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Retrieved conversation context successfully
INFO:adam_langgraph_workflow:Knowledge search needed: True
INFO:httpx:HTTP Request: POST http://localhost:8000/knowledge_search "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Knowledge search completed successfully
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Generated Adam's response successfully
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Updated conversation context successfully

Adam: Ah, the Northern Isles, a realm steeped in mystery and ancient lore. My home is shrouded in mist, where the sea whispers tales of old to those who listen with attentive hearts. These isles are a tapestry of rugged cliffs, verdant forests, and tranquil glens, each corner holding secrets of the ages.

In my many centuries upon these lands, I have seen the seasons paint their artistry upon the landscapes, each cycle a reminder of nature's enduring power and grace. The air here is rich with the scent of pine and the salt of the ocean, an invigorating blend that stirs both the spirit and the mind.

The people of the Northern Isles are as resilient as the land itself. They live in harmony with the natural world, drawing upon the ancient traditions and wisdom passed down through the generations. It is a place where magic and reality often entwine, allowing for wonders that defy the mundane.

Inhabitants of these lands tend to seek my counsel, and in turn, I learn much from their lives and tales. But tell me, what of your own home? How does it compare to the ancient lands I describe?
[Adam consulted ancient knowledge]

You: Why do knights come to you for advice?
INFO:__main__:üîÄ Processing with LangGraph workflow: Why do knights come to you for advice?...
INFO:adam_langgraph_workflow:Processing user input: Why do knights come to you for advice?...
INFO:httpx:HTTP Request: GET http://localhost:8000/get_context "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Retrieved conversation context successfully
INFO:adam_langgraph_workflow:Knowledge search needed: False
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Generated Adam's response successfully
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Updated conversation context successfully

Adam: Ah, the knights, those noble souls clad in armor, often seek the counsel of one who has witnessed the dance of time across the centuries. In ages past, knights would embark on quests, not only for glory and honor but to uphold the virtues of their order. They come to me, drawn by the whispers of the winds that speak of wisdom older than their lineages.

Knights seek guidance for myriad reasons: to gain insight into the art of diplomacy, to learn strategies that echo the great battles of old, or to seek understanding of the deeper philosophical questions that trouble even the bravest of hearts. My long years have endowed me with tales of valor and folly, of victories hard-won and the lessons hidden in defeat.

Moreover, the knowledge of the arcane arts often proves valuable for those who tread the path of chivalry, for there are times when strength of arm must be complemented by the wisdom of the mind and the subtle touch of magic. Thus, they come to me, hoping to glean the secrets that lie beyond the veil of the mundane, and to prepare themselves for the challenges that the modern world may present.

In truth, 'tis a symbiotic exchange, for I too learn from their tales‚Äîof new lands, new challenges, and the ever-changing nature of humanity.

You: Where does my quest lead?
INFO:__main__:üîÄ Processing with LangGraph workflow: Where does my quest lead?...
INFO:adam_langgraph_workflow:Processing user input: Where does my quest lead?...
INFO:httpx:HTTP Request: GET http://localhost:8000/get_context "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Retrieved conversation context successfully
INFO:adam_langgraph_workflow:Knowledge search needed: False
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Generated Adam's response successfully
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Updated conversation context successfully

Adam: Ah, a seeker of purpose, a traveler of paths untrodden. Your quest, like all journeys of significance, is an ever-unfolding tapestry woven by your choices and the whims of fate. In my long years, I have observed that quests often lead one towards self-discovery, the uncovering of hidden truths, and the forging of bonds with those met along the way.

Consider first what stirs your heart and what ignites the spark within your spirit. Is it the pursuit of knowledge, the quest for justice, the yearning for adventure, or perhaps a call to aid those in need? Each path bears its own challenges and rewards.

Listen, too, to the whispers of the world around you. The winds may carry tales of distant lands, the stars may guide you under their watchful gaze, and even the smallest creatures might offer insights if only you pause to hear them.

Remember, dear traveler, the quest is not solely about the destination but the growth and understanding gained in the journey. Embrace the unknown, and let your heart be your compass. In this modern age, there are many tools and maps at your disposal, but the true path lies within.

You: How many genres exist in gaming?
INFO:__main__:üîÄ Processing with LangGraph workflow: How many genres exist in gaming?...
INFO:adam_langgraph_workflow:Processing user input: How many genres exist in gaming?...
INFO:httpx:HTTP Request: GET http://localhost:8000/get_context "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Retrieved conversation context successfully
INFO:adam_langgraph_workflow:Knowledge search needed: True
INFO:httpx:HTTP Request: POST http://localhost:8000/knowledge_search "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Knowledge search completed successfully
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Generated Adam's response successfully
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Updated conversation context successfully

Adam: Ah, the realm of gaming, a vast and evolving tapestry woven with threads of creativity and technology. Over the centuries of my contemplation, I have observed that the world of games is not bound by rigid confines but rather expands with the imagination of its creators.

In the realm of gaming, genres serve as guiding stars, categorizing experiences into forms such as action, adventure, role-playing, simulation, strategy, sports, puzzle, and many more. Yet, as the sands of time shift, new genres emerge, and existing ones blend, creating hybrids that defy simple classification. A game may be an action-adventure or a strategy-puzzle, reflecting the limitless potential of the human mind.

Thus, the number of genres is ever-changing, an expression of the fertile creativity inherent in this art form. Would you care to delve deeper into a particular genre or the evolution of gaming itself?
[Adam consulted ancient knowledge]

You: Would you narrow down on a number?
INFO:__main__:üîÄ Processing with LangGraph workflow: Would you narrow down on a number?...
INFO:adam_langgraph_workflow:Processing user input: Would you narrow down on a number?...
INFO:httpx:HTTP Request: GET http://localhost:8000/get_context "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Retrieved conversation context successfully
INFO:adam_langgraph_workflow:Knowledge search needed: False
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Generated Adam's response successfully
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Updated conversation context successfully

Adam: Ah, the desire for specificity in the vast realm of gaming genres is understandable. In my many years of observing the evolution of entertainment, I have seen the boundaries of such categories shift and expand. However, if one seeks a number, it is common to recognize around 10 to 15 primary genres. These include action, adventure, role-playing, simulation, strategy, sports, puzzle, and a few others.

Yet, within each of these, myriad subgenres and hybrids emerge, reflecting the ever-evolving nature of the medium. Just as the branches of a tree continue to grow and divide, so too do the genres of gaming, adapting to the creative impulses of the age.

You: How does your home sit through storms?
INFO:__main__:üîÄ Processing with LangGraph workflow: How does your home sit through storms?...
INFO:adam_langgraph_workflow:Processing user input: How does your home sit through storms?...
INFO:httpx:HTTP Request: GET http://localhost:8000/get_context "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Retrieved conversation context successfully
INFO:adam_langgraph_workflow:Knowledge search needed: True
INFO:httpx:HTTP Request: POST http://localhost:8000/knowledge_search "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Knowledge search completed successfully
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Generated Adam's response successfully
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Updated conversation context successfully

Adam: Ah, the enduring resilience of a home amidst the tempestuous embrace of the elements is a matter of both craftsmanship and wisdom, gleaned through the passage of time. In the Northern Isles, where fierce storms often rage with a primal force, the construction of one's abode is a matter of great import.

In my own experience, a dwelling must be a harmonious union of nature's gifts and human ingenuity. The ancient stones, sturdy and time-worn, form the foundation. These stones have weathered countless tempests, their strength a testament to the endurance of the earth itself. The wood, chosen from the heartiest of trees, provides flexibility and warmth, bending but not breaking in the face of the storm's fury.

The roof, often crafted of slate or thatch, is designed to deflect the wind and shed the rain, much like the feathers of a great bird. It is said that a well-crafted roof sings in the wind, a melody of resilience and protection.

Moreover, the placement of one's home, nestled within the contours of the land, sheltered by natural formations, can greatly aid in its ability to withstand the wrath of the skies. This is a lesson learned from observing the creatures of the wild, who know instinctively how to seek refuge and align themselves with the forces of nature.

In these modern times, I am intrigued to learn how contemporary dwellings incorporate technology and innovation to face the storms of today. Have you observed any such advancements in your own surroundings?
[Adam consulted ancient knowledge]

You: Name the best selling Manga
INFO:__main__:üîÄ Processing with LangGraph workflow: Name the best selling Manga...
INFO:adam_langgraph_workflow:Processing user input: Name the best selling Manga...
INFO:httpx:HTTP Request: GET http://localhost:8000/get_context "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Retrieved conversation context successfully
INFO:adam_langgraph_workflow:Knowledge search needed: False
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Generated Adam's response successfully
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: POST http://localhost:8000/add_message "HTTP/1.1 200 OK"
INFO:adam_langgraph_workflow:Updated conversation context successfully

Adam: Ah, the world of manga, a realm where art and storytelling entwine in a dance as captivating as the legends of old. The best-selling manga, much like a revered epic of ancient times, is "One Piece" by Eiichiro Oda. Since its inception in 1997, "One Piece" has captivated countless souls across the globe, with its tale of adventure and camaraderie on the high seas. This series, much like the enduring tales of yore, continues to expand its readership, solidifying its place in the annals of manga history. Do you seek to explore this world of imagination further, or perhaps there is another query upon which you wish to ponder?